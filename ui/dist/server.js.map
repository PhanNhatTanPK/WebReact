{"version":3,"file":"server.js","mappings":"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","sources":["webpack://thuchanhreactjs/webpack/bootstrap","webpack://thuchanhreactjs/webpack/runtime/compat get default export","webpack://thuchanhreactjs/webpack/runtime/define property getters","webpack://thuchanhreactjs/webpack/runtime/hasOwnProperty shorthand","webpack://thuchanhreactjs/external commonjs \"dotenv\"","webpack://thuchanhreactjs/external commonjs \"express\"","webpack://thuchanhreactjs/external commonjs \"http-proxy-middleware\"","webpack://thuchanhreactjs/external commonjs \"source-map-support\"","webpack://thuchanhreactjs/external commonjs \"react\"","webpack://thuchanhreactjs/external commonjs \"react-dom/server\"","webpack://thuchanhreactjs/external commonjs \"react-router-dom\"","webpack://thuchanhreactjs/external commonjs \"react-bootstrap\"","webpack://thuchanhreactjs/external commonjs \"react-router-bootstrap\"","webpack://thuchanhreactjs/external commonjs \"url-search-params\"","webpack://thuchanhreactjs/./src/IssueFilter.jsx","webpack://thuchanhreactjs/./src/UserContext.js","webpack://thuchanhreactjs/./src/IssueTable.jsx","webpack://thuchanhreactjs/./src/IssueDetail.jsx","webpack://thuchanhreactjs/external commonjs \"isomorphic-fetch\"","webpack://thuchanhreactjs/./src/graphQLFetch.js","webpack://thuchanhreactjs/./src/Toast.jsx","webpack://thuchanhreactjs/./src/withToast.jsx","webpack://thuchanhreactjs/./src/store.js","webpack://thuchanhreactjs/./src/IssueList.jsx","webpack://thuchanhreactjs/./src/IssueReport.jsx","webpack://thuchanhreactjs/./src/NumInput.jsx","webpack://thuchanhreactjs/./src/DateInput.jsx","webpack://thuchanhreactjs/./src/TextInput.jsx","webpack://thuchanhreactjs/./src/IssueEdit.jsx","webpack://thuchanhreactjs/./src/About.jsx","webpack://thuchanhreactjs/./src/NotFound.jsx","webpack://thuchanhreactjs/./src/routes.js","webpack://thuchanhreactjs/./src/Contents.jsx","webpack://thuchanhreactjs/./src/IssueAddNavItem.jsx","webpack://thuchanhreactjs/./src/SignInNavItem.jsx","webpack://thuchanhreactjs/external commonjs \"react-select/lib/Async\"","webpack://thuchanhreactjs/./src/Search.jsx","webpack://thuchanhreactjs/./src/Page.jsx","webpack://thuchanhreactjs/external commonjs \"serialize-javascript\"","webpack://thuchanhreactjs/./server/render.jsx","webpack://thuchanhreactjs/./server/uiserver.js","webpack://thuchanhreactjs/./server/template.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"dotenv\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"express\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http-proxy-middleware\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"source-map-support\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-dom/server\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-router-dom\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-bootstrap\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-router-bootstrap\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"url-search-params\");","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport URLSearchParams from 'url-search-params';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  ButtonToolbar, Button, FormGroup, FormControl, ControlLabel, InputGroup,\r\n  Row, Col,\r\n} from 'react-bootstrap';\r\n\r\nclass IssueFilter extends React.Component {\r\n  constructor({ location: { search } }) {\r\n    super();\r\n    const params = new URLSearchParams(search);\r\n    this.state = {\r\n      status: params.get('status') || '',\r\n      effortMin: params.get('effortMin') || '',\r\n      effortMax: params.get('effortMax') || '',\r\n      changed: false,\r\n    };\r\n\r\n    this.onChangeStatus = this.onChangeStatus.bind(this);\r\n    this.onChangeEffortMin = this.onChangeEffortMin.bind(this);\r\n    this.onChangeEffortMax = this.onChangeEffortMax.bind(this);\r\n    this.applyFilter = this.applyFilter.bind(this);\r\n    this.showOriginalFilter = this.showOriginalFilter.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { location: { search: prevSearch } } = prevProps;\r\n    const { location: { search } } = this.props;\r\n    if (prevSearch !== search) {\r\n      this.showOriginalFilter();\r\n    }\r\n  }\r\n\r\n  onChangeStatus(e) {\r\n    this.setState({ status: e.target.value, changed: true });\r\n  }\r\n\r\n  onChangeEffortMin(e) {\r\n    const effortString = e.target.value;\r\n    if (effortString.match(/^\\d*$/)) {\r\n      this.setState({ effortMin: e.target.value, changed: true });\r\n    }\r\n  }\r\n\r\n  onChangeEffortMax(e) {\r\n    const effortString = e.target.value;\r\n    if (effortString.match(/^\\d*$/)) {\r\n      this.setState({ effortMax: e.target.value, changed: true });\r\n    }\r\n  }\r\n\r\n  showOriginalFilter() {\r\n    const { location: { search } } = this.props;\r\n    const params = new URLSearchParams(search);\r\n    this.setState({\r\n      status: params.get('status') || '',\r\n      effortMin: params.get('effortMin') || '',\r\n      effortMax: params.get('effortMax') || '',\r\n      changed: false,\r\n    });\r\n  }\r\n\r\n  applyFilter() {\r\n    const { status, effortMin, effortMax } = this.state;\r\n    const { history, urlBase } = this.props;\r\n    const params = new URLSearchParams();\r\n    if (status) params.set('status', status);\r\n    if (effortMin) params.set('effortMin', effortMin);\r\n    if (effortMax) params.set('effortMax', effortMax);\r\n\r\n    const search = params.toString() ? `?${params.toString()}` : '';\r\n    history.push({ pathname: urlBase, search });\r\n  }\r\n\r\n  render() {\r\n    const { status, changed } = this.state;\r\n    const { effortMin, effortMax } = this.state;\r\n    return (\r\n      <Row>\r\n        <Col xs={6} sm={4} md={3} lg={2}>\r\n          <FormGroup>\r\n            <ControlLabel>Status:</ControlLabel>\r\n            <FormControl\r\n              componentClass=\"select\"\r\n              value={status}\r\n              onChange={this.onChangeStatus}\r\n            >\r\n              <option value=\"\">(All)</option>\r\n              <option value=\"New\">New</option>\r\n              <option value=\"Assigned\">Assigned</option>\r\n              <option value=\"Fixed\">Fixed</option>\r\n              <option value=\"Closed\">Closed</option>\r\n            </FormControl>\r\n          </FormGroup>\r\n        </Col>\r\n        <Col xs={6} sm={4} md={3} lg={2}>\r\n          <FormGroup>\r\n            <ControlLabel>Effort between:</ControlLabel>\r\n            <InputGroup>\r\n              <FormControl value={effortMin} onChange={this.onChangeEffortMin} />\r\n              <InputGroup.Addon>-</InputGroup.Addon>\r\n              <FormControl value={effortMax} onChange={this.onChangeEffortMax} />\r\n            </InputGroup>\r\n          </FormGroup>\r\n        </Col>\r\n        <Col xs={6} sm={4} md={3} lg={2}>\r\n          <FormGroup>\r\n            <ControlLabel>&nbsp;</ControlLabel>\r\n            <ButtonToolbar>\r\n              <Button bsStyle=\"primary\" type=\"button\" onClick={this.applyFilter}>\r\n                Apply\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={this.showOriginalFilter}\r\n                disabled={!changed}\r\n              >\r\n                Reset\r\n              </Button>\r\n            </ButtonToolbar>\r\n          </FormGroup>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(IssueFilter);\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nconst UserContext = React.createContext({\r\n  signedIn: false,\r\n});\r\n\r\nexport default UserContext;\r\n","/* eslint-disable react/jsx-no-bind */\r\n/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport {\r\n  Button, Glyphicon, Tooltip, OverlayTrigger, Table,\r\n} from 'react-bootstrap';\r\n\r\nimport UserContext from './UserContext.js';\r\n\r\n// eslint-disable-next-line react/prefer-stateless-function\r\nclass IssueRowPlain extends React.Component {\r\n  render() {\r\n    const {\r\n      issue, location: { search }, closeIssue, deleteIssue, index,\r\n    } = this.props;\r\n    const user = this.context;\r\n    const disabled = !user.signedIn;\r\n\r\n    const selectLocation = { pathname: `/issues/${issue.id}`, search };\r\n    const editTooltip = (\r\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Edit Issue</Tooltip>\r\n    );\r\n    const closeTooltip = (\r\n      <Tooltip id=\"close-tooltip\" placement=\"top\">Close Issue</Tooltip>\r\n    );\r\n    const deleteTooltip = (\r\n      <Tooltip id=\"delete-tooltip\" placement=\"top\">Delete Issue</Tooltip>\r\n    );\r\n\r\n    function onClose(e) {\r\n      e.preventDefault();\r\n      closeIssue(index);\r\n    }\r\n\r\n    function onDelete(e) {\r\n      e.preventDefault();\r\n      deleteIssue(index);\r\n    }\r\n\r\n    const tableRow = (\r\n      <tr>\r\n        <td>{issue.id}</td>\r\n        <td>{issue.status}</td>\r\n        <td>{issue.owner}</td>\r\n        <td>{issue.created.toDateString()}</td>\r\n        <td>{issue.effort}</td>\r\n        <td>{issue.due ? issue.due.toDateString() : ''}</td>\r\n        <td>{issue.title}</td>\r\n        <td>\r\n          <LinkContainer to={`/edit/${issue.id}`}>\r\n            <OverlayTrigger delayShow={1000} overlay={editTooltip}>\r\n              <Button bsSize=\"xsmall\">\r\n                <Glyphicon glyph=\"pencil\" />\r\n              </Button>\r\n            </OverlayTrigger>\r\n          </LinkContainer>\r\n          {' '}\r\n          <OverlayTrigger delayShow={1000} overlay={closeTooltip}>\r\n            <Button disabled={disabled} bsSize=\"xsmall\" onClick={onClose}>\r\n              <Glyphicon glyph=\"envelope\" />\r\n            </Button>\r\n          </OverlayTrigger>\r\n          {' '}\r\n          <OverlayTrigger delayShow={1000} overlay={deleteTooltip}>\r\n            <Button disabled={disabled} bsSize=\"xsmall\" onClick={onDelete}>\r\n              <Glyphicon glyph=\"minus\" />\r\n            </Button>\r\n          </OverlayTrigger>\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    return (\r\n      <LinkContainer to={selectLocation}>\r\n        {tableRow}\r\n      </LinkContainer>\r\n    );\r\n  }\r\n}\r\n\r\nIssueRowPlain.contextType = UserContext;\r\nconst IssueRow = withRouter(IssueRowPlain);\r\ndelete IssueRow.contextType;\r\n\r\nexport default function IssueTable({ issues, closeIssue, deleteIssue }) {\r\n  const issueRows = issues.map((issue, index) => (\r\n    <IssueRow\r\n      key={issue.id}\r\n      issue={issue}\r\n      closeIssue={closeIssue}\r\n      deleteIssue={deleteIssue}\r\n      index={index}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Table bordered condensed hover responsive>\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Status</th>\r\n          <th>Owner</th>\r\n          <th>Created</th>\r\n          <th>Effort</th>\r\n          <th>Due Date</th>\r\n          <th>Title</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {issueRows}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nexport default function IssueDetail({ issue }) {\r\n  if (issue) {\r\n    return (\r\n      <div>\r\n        <h3>Description</h3>\r\n        <pre>{issue.description}</pre>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"isomorphic-fetch\");","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport fetch from 'isomorphic-fetch';\r\n\r\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\r\n\r\nfunction jsonDateReviver(key, value) {\r\n  if (dateRegex.test(value)) return new Date(value);\r\n  return value;\r\n}\r\n\r\nexport default async function\r\ngraphQLFetch(query, variables = {}, showError = null, cookie = null) {\r\n  const apiEndpoint = (__isBrowser__) // eslint-disable-line no-undef\r\n    ? window.ENV.UI_API_ENDPOINT\r\n    : process.env.UI_SERVER_API_ENDPOINT;\r\n  try {\r\n    const headers = { 'Content-Type': 'application/json' };\r\n    if (cookie) headers.Cookie = cookie;\r\n    const response = await fetch(apiEndpoint, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers,\r\n      body: JSON.stringify({ query, variables }),\r\n    });\r\n    const body = await response.text();\r\n    const result = JSON.parse(body, jsonDateReviver);\r\n\r\n    if (result.errors) {\r\n      const error = result.errors[0];\r\n      if (error.extensions.code === 'BAD_USER_INPUT') {\r\n        const details = error.extensions.exception.errors.join('\\n ');\r\n        if (showError) showError(`${error.message}:\\n ${details}`);\r\n      } else if (showError) {\r\n        showError(`${error.extensions.code}: ${error.message}`);\r\n      }\r\n    }\r\n    return result.data;\r\n  } catch (e) {\r\n    if (showError) showError(`Error in sending data to server: ${e.message}`);\r\n    return null;\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { Alert, Collapse } from 'react-bootstrap';\r\n\r\nexport default class Toast extends React.Component {\r\n  componentDidUpdate() {\r\n    const { showing, onDismiss } = this.props;\r\n    if (showing) {\r\n      clearTimeout(this.dismissTimer);\r\n      this.dismissTimer = setTimeout(onDismiss, 5000);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.dismissTimer);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      showing, bsStyle, onDismiss, children,\r\n    } = this.props;\r\n    return (\r\n      <Collapse in={showing}>\r\n        <div style={{\r\n          position: 'fixed', bottom: 20, left: 20, zIndex: 10,\r\n        }}\r\n        >\r\n          <Alert bsStyle={bsStyle} onDismiss={onDismiss}>\r\n            {children}\r\n          </Alert>\r\n        </div>\r\n      </Collapse>\r\n    );\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport Toast from './Toast.jsx';\r\n\r\nexport default function withToast(OriginalComponent) {\r\n  return class ToastWrapper extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        toastVisible: false, toastMessage: '', toastType: 'success',\r\n      };\r\n      this.showSuccess = this.showSuccess.bind(this);\r\n      this.showError = this.showError.bind(this);\r\n      this.dismissToast = this.dismissToast.bind(this);\r\n    }\r\n\r\n    showSuccess(message) {\r\n      this.setState({ toastVisible: true, toastMessage: message, toastType: 'success' });\r\n    }\r\n\r\n    showError(message) {\r\n      this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\r\n    }\r\n\r\n    dismissToast() {\r\n      this.setState({ toastVisible: false });\r\n    }\r\n\r\n    render() {\r\n      const { toastType, toastVisible, toastMessage } = this.state;\r\n      return (\r\n        <React.Fragment>\r\n          <OriginalComponent\r\n            showError={this.showError}\r\n            showSuccess={this.showSuccess}\r\n            dismissToast={this.dismissToast}\r\n            {...this.props}\r\n          />\r\n          <Toast\r\n            bsStyle={toastType}\r\n            showing={toastVisible}\r\n            onDismiss={this.dismissToast}\r\n          >\r\n            {toastMessage}\r\n          </Toast>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nconst store = {};\r\n\r\nexport default store;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport URLSearchParams from 'url-search-params';\r\nimport { Panel, Pagination, Button } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nimport IssueFilter from './IssueFilter.jsx';\r\nimport IssueTable from './IssueTable.jsx';\r\nimport IssueDetail from './IssueDetail.jsx';\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport withToast from './withToast.jsx';\r\nimport store from './store.js';\r\n\r\nconst SECTION_SIZE = 5;\r\n\r\nfunction PageLink({\r\n  params, page, activePage, children,\r\n}) {\r\n  params.set('page', page);\r\n  if (page === 0) return React.cloneElement(children, { disabled: true });\r\n  return (\r\n    <LinkContainer\r\n      isActive={() => page === activePage}\r\n      to={{ search: `?${params.toString()}` }}\r\n    >\r\n      {children}\r\n    </LinkContainer>\r\n  );\r\n}\r\n\r\nclass IssueList extends React.Component {\r\n  static async fetchData(match, search, showError) {\r\n    const params = new URLSearchParams(search);\r\n    const vars = { hasSelection: false, selectedId: 0 };\r\n    if (params.get('status')) vars.status = params.get('status');\r\n\r\n    const effortMin = parseInt(params.get('effortMin'), 10);\r\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\r\n    const effortMax = parseInt(params.get('effortMax'), 10);\r\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\r\n\r\n    const { params: { id } } = match;\r\n    const idInt = parseInt(id, 10);\r\n    if (!Number.isNaN(idInt)) {\r\n      vars.hasSelection = true;\r\n      vars.selectedId = idInt;\r\n    }\r\n\r\n    let page = parseInt(params.get('page'), 10);\r\n    if (Number.isNaN(page)) page = 1;\r\n    vars.page = page;\r\n\r\n    const query = `query issueList(\r\n      $status: StatusType\r\n      $effortMin: Int\r\n      $effortMax: Int\r\n      $hasSelection: Boolean!\r\n      $selectedId: Int!\r\n      $page: Int\r\n    ) {\r\n      issueList(\r\n        status: $status\r\n        effortMin: $effortMin\r\n        effortMax: $effortMax\r\n        page: $page\r\n      ) {\r\n        issues {\r\n          id title status owner\r\n          created effort due\r\n        }\r\n        pages\r\n      }\r\n      issue(id: $selectedId) @include (if : $hasSelection) {\r\n        id description\r\n      }\r\n    }`;\r\n\r\n    const data = await graphQLFetch(query, vars, showError);\r\n    return data;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    const initialData = store.initialData || { issueList: {} };\r\n    const {\r\n      issueList: { issues, pages }, issue: selectedIssue,\r\n    } = initialData;\r\n    delete store.initialData;\r\n    this.state = {\r\n      issues,\r\n      selectedIssue,\r\n      pages,\r\n    };\r\n    this.closeIssue = this.closeIssue.bind(this);\r\n    this.deleteIssue = this.deleteIssue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { issues } = this.state;\r\n    if (issues == null) this.loadData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      location: { search: prevSearch },\r\n      match: { params: { id: prevId } },\r\n    } = prevProps;\r\n    const { location: { search }, match: { params: { id } } } = this.props;\r\n    if (prevSearch !== search || prevId !== id) {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    const { location: { search }, match, showError } = this.props;\r\n    const data = await IssueList.fetchData(match, search, showError);\r\n    if (data) {\r\n      this.setState({\r\n        issues: data.issueList.issues,\r\n        selectedIssue: data.issue,\r\n        pages: data.issueList.pages,\r\n      });\r\n    }\r\n  }\r\n\r\n  async closeIssue(index) {\r\n    const query = `mutation issueClose($id: Int!) {\r\n      issueUpdate(id: $id, changes: { status: Closed }) {\r\n        id title status owner\r\n        effort created due description\r\n      }\r\n    }`;\r\n    const { issues } = this.state;\r\n    const { showError } = this.props;\r\n    const data = await graphQLFetch(query, { id: issues[index].id },\r\n      showError);\r\n    if (data) {\r\n      this.setState((prevState) => {\r\n        const newList = [...prevState.issues];\r\n        newList[index] = data.issueUpdate;\r\n        return { issues: newList };\r\n      });\r\n    } else {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async deleteIssue(index) {\r\n    const query = `mutation issueDelete($id: Int!) {\r\n      issueDelete(id: $id)\r\n    }`;\r\n    const { issues } = this.state;\r\n    const { location: { pathname, search }, history } = this.props;\r\n    const { showSuccess, showError } = this.props;\r\n    const { id } = issues[index];\r\n    const data = await graphQLFetch(query, { id }, showError);\r\n    if (data && data.issueDelete) {\r\n      this.setState((prevState) => {\r\n        const newList = [...prevState.issues];\r\n        if (pathname === `/issues/${id}`) {\r\n          history.push({ pathname: '/issues', search });\r\n        }\r\n        newList.splice(index, 1);\r\n        return { issues: newList };\r\n      });\r\n      const undoMessage = (\r\n        <span>\r\n          {`Deleted issue ${id} successfully.`}\r\n          <Button bsStyle=\"link\" onClick={() => this.restoreIssue(id)}>\r\n            UNDO\r\n          </Button>\r\n        </span>\r\n      );\r\n      showSuccess(undoMessage);\r\n    } else {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async restoreIssue(id) {\r\n    const query = `mutation issueRestore($id: Int!) {\r\n      issueRestore(id: $id)\r\n    }`;\r\n    const { showSuccess, showError } = this.props;\r\n    const data = await graphQLFetch(query, { id }, showError);\r\n    if (data) {\r\n      showSuccess(`Issue ${id} restored successfully.`);\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { issues } = this.state;\r\n    if (issues == null) return null;\r\n\r\n    const { selectedIssue, pages } = this.state;\r\n    const { location: { search } } = this.props;\r\n\r\n    const params = new URLSearchParams(search);\r\n    let page = parseInt(params.get('page'), 10);\r\n    if (Number.isNaN(page)) page = 1;\r\n    const startPage = Math.floor((page - 1) / SECTION_SIZE) * SECTION_SIZE + 1;\r\n    const endPage = startPage + SECTION_SIZE - 1;\r\n    const prevSection = startPage === 1 ? 0 : startPage - SECTION_SIZE;\r\n    const nextSection = endPage >= pages ? 0 : startPage + SECTION_SIZE;\r\n\r\n    const items = [];\r\n    for (let i = startPage; i <= Math.min(endPage, pages); i += 1) {\r\n      params.set('page', i);\r\n      items.push((\r\n        <PageLink key={i} params={params} activePage={page} page={i}>\r\n          <Pagination.Item>{i}</Pagination.Item>\r\n        </PageLink>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Panel>\r\n          <Panel.Heading>\r\n            <Panel.Title toggle>Filter</Panel.Title>\r\n          </Panel.Heading>\r\n          <Panel.Body collapsible>\r\n            <IssueFilter urlBase=\"/issues\" />\r\n          </Panel.Body>\r\n        </Panel>\r\n        <IssueTable\r\n          issues={issues}\r\n          closeIssue={this.closeIssue}\r\n          deleteIssue={this.deleteIssue}\r\n        />\r\n        <IssueDetail issue={selectedIssue} />\r\n        <Pagination>\r\n          <PageLink params={params} page={prevSection}>\r\n            <Pagination.Item>{'<'}</Pagination.Item>\r\n          </PageLink>\r\n          {items}\r\n          <PageLink params={params} page={nextSection}>\r\n            <Pagination.Item>{'>'}</Pagination.Item>\r\n          </PageLink>\r\n        </Pagination>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst IssueListWithToast = withToast(IssueList);\r\nIssueListWithToast.fetchData = IssueList.fetchData;\r\n\r\nexport default IssueListWithToast;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { Panel, Table } from 'react-bootstrap';\r\n\r\nimport IssueFilter from './IssueFilter.jsx';\r\nimport withToast from './withToast.jsx';\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport store from './store.js';\r\n\r\nconst statuses = ['New', 'Assigned', 'Fixed', 'Closed'];\r\n\r\nclass IssueReport extends React.Component {\r\n  static async fetchData(match, search, showError) {\r\n    const params = new URLSearchParams(search);\r\n    const vars = { };\r\n    if (params.get('status')) vars.status = params.get('status');\r\n\r\n    const effortMin = parseInt(params.get('effortMin'), 10);\r\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\r\n    const effortMax = parseInt(params.get('effortMax'), 10);\r\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\r\n\r\n    const query = `query issueList(\r\n      $status: StatusType\r\n      $effortMin: Int\r\n      $effortMax: Int\r\n    ) {\r\n      issueCounts(\r\n        status: $status\r\n        effortMin: $effortMin\r\n        effortMax: $effortMax\r\n      ) {\r\n        owner New Assigned Fixed Closed\r\n      }\r\n    }`;\r\n    const data = await graphQLFetch(query, vars, showError);\r\n    return data;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const stats = store.initialData ? store.initialData.issueCounts : null;\r\n    delete store.initialData;\r\n    this.state = { stats };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { stats } = this.state;\r\n    if (stats == null) this.loadData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { location: { search: prevSearch } } = prevProps;\r\n    const { location: { search } } = this.props;\r\n    if (prevSearch !== search) {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    const { location: { search }, match, showError } = this.props;\r\n    const data = await IssueReport.fetchData(match, search, showError);\r\n    if (data) {\r\n      this.setState({ stats: data.issueCounts });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { stats } = this.state;\r\n    if (stats == null) return null;\r\n\r\n    const headerColumns = (\r\n      statuses.map(status => (\r\n        <th key={status}>{status}</th>\r\n      ))\r\n    );\r\n\r\n    const statRows = stats.map(counts => (\r\n      <tr key={counts.owner}>\r\n        <td>{counts.owner}</td>\r\n        {statuses.map(status => (\r\n          <td key={status}>{counts[status]}</td>\r\n        ))}\r\n        <td>{statuses.reduce((total, status) => total + counts[status], 0)}</td>\r\n      </tr>\r\n    ));\r\n\r\n    return (\r\n      <>\r\n        <Panel>\r\n          <Panel.Heading>\r\n            <Panel.Title toggle>Filter</Panel.Title>\r\n          </Panel.Heading>\r\n          <Panel.Body collapsible>\r\n            <IssueFilter urlBase=\"/report\" />\r\n          </Panel.Body>\r\n        </Panel>\r\n        <Table bordered condensed hover responsive>\r\n          <thead>\r\n            <tr>\r\n              <th>Owner</th>\r\n              {headerColumns}\r\n              <th>Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {statRows}\r\n          </tbody>\r\n        </Table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst IssueReportWithToast = withToast(IssueReport);\r\nIssueReportWithToast.fetchData = IssueReport.fetchData;\r\n\r\nexport default IssueReportWithToast;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nfunction format(num) {\r\n  return num != null ? num.toString() : '';\r\n}\r\n\r\nfunction unformat(str) {\r\n  const val = parseInt(str, 10);\r\n  return Number.isNaN(val) ? null : val;\r\n}\r\n\r\nexport default class NumInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { value: format(props.value) };\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    if (e.target.value.match(/^\\d*$/)) {\r\n      this.setState({ value: e.target.value });\r\n    }\r\n  }\r\n\r\n  onBlur(e) {\r\n    const { onChange } = this.props;\r\n    const { value } = this.state;\r\n    onChange(e, unformat(value));\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        {...this.props}\r\n        value={value}\r\n        onBlur={this.onBlur}\r\n        onChange={this.onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nfunction displayFormat(date) {\r\n  return (date != null) ? date.toDateString() : '';\r\n}\r\n\r\nfunction editFormat(date) {\r\n  return (date != null) ? date.toISOString().substr(0, 10) : '';\r\n}\r\n\r\nfunction unformat(str) {\r\n  const val = new Date(str);\r\n  return Number.isNaN(val.getTime()) ? null : val;\r\n}\r\n\r\nexport default class DateInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: editFormat(props.value),\r\n      focused: false,\r\n      valid: true,\r\n    };\r\n    this.onFocus = this.onFocus.bind(this);\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onFocus() {\r\n    this.setState({ focused: true });\r\n  }\r\n\r\n  onBlur(e) {\r\n    const { value, valid: oldValid } = this.state;\r\n    const { onValidityChange, onChange } = this.props;\r\n    const dateValue = unformat(value);\r\n    const valid = value === '' || dateValue != null;\r\n    if (valid !== oldValid && onValidityChange) {\r\n      onValidityChange(e, valid);\r\n    }\r\n    this.setState({ focused: false, valid });\r\n    if (valid) onChange(e, dateValue);\r\n  }\r\n\r\n  onChange(e) {\r\n    if (e.target.value.match(/^[\\d-]*$/)) {\r\n      this.setState({ value: e.target.value });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { valid, focused, value } = this.state;\r\n    const { value: origValue, onValidityChange, ...props } = this.props;\r\n    const displayValue = (focused || !valid) ? value\r\n      : displayFormat(origValue);\r\n    return (\r\n      <input\r\n        {...props}\r\n        value={displayValue}\r\n        placeholder={focused ? 'yyyy-mm-dd' : null}\r\n        onFocus={this.onFocus}\r\n        onBlur={this.onBlur}\r\n        onChange={this.onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nfunction format(text) {\r\n  return text != null ? text : '';\r\n}\r\n\r\nfunction unformat(text) {\r\n  return text.trim().length === 0 ? null : text;\r\n}\r\n\r\nexport default class TextInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { value: format(props.value) };\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ value: e.target.value });\r\n  }\r\n\r\n  onBlur(e) {\r\n    const { onChange } = this.props;\r\n    const { value } = this.state;\r\n    onChange(e, unformat(value));\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { tag = 'input', ...props } = this.props;\r\n    return React.createElement(tag, {\r\n      ...props,\r\n      value,\r\n      onBlur: this.onBlur,\r\n      onChange: this.onChange,\r\n    });\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport {\r\n  Col, Panel, Form, FormGroup, FormControl, ControlLabel,\r\n  ButtonToolbar, Button, Alert,\r\n} from 'react-bootstrap';\r\n\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport NumInput from './NumInput.jsx';\r\nimport DateInput from './DateInput.jsx';\r\nimport TextInput from './TextInput.jsx';\r\nimport withToast from './withToast.jsx';\r\nimport store from './store.js';\r\nimport UserContext from './UserContext.js';\r\n\r\nclass IssueEdit extends React.Component {\r\n  static async fetchData(match, search, showError) {\r\n    const query = `query issue($id: Int!) {\r\n      issue(id: $id) {\r\n        id title status owner\r\n        effort created due description\r\n      }\r\n    }`;\r\n\r\n    const { params: { id } } = match;\r\n    const result = await graphQLFetch(query, { id }, showError);\r\n    return result;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    const issue = store.initialData ? store.initialData.issue : null;\r\n    delete store.initialData;\r\n    this.state = {\r\n      issue,\r\n      invalidFields: {},\r\n      showingValidation: false,\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.onValidityChange = this.onValidityChange.bind(this);\r\n    this.dismissValidation = this.dismissValidation.bind(this);\r\n    this.showValidation = this.showValidation.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { issue } = this.state;\r\n    if (issue == null) this.loadData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { match: { params: { id: prevId } } } = prevProps;\r\n    const { match: { params: { id } } } = this.props;\r\n    if (id !== prevId) {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  onChange(event, naturalValue) {\r\n    const { name, value: textValue } = event.target;\r\n    const value = naturalValue === undefined ? textValue : naturalValue;\r\n    this.setState(prevState => ({\r\n      issue: { ...prevState.issue, [name]: value },\r\n    }));\r\n  }\r\n\r\n  onValidityChange(event, valid) {\r\n    const { name } = event.target;\r\n    this.setState((prevState) => {\r\n      const invalidFields = { ...prevState.invalidFields, [name]: !valid };\r\n      if (valid) delete invalidFields[name];\r\n      return { invalidFields };\r\n    });\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.showValidation();\r\n    const { issue, invalidFields } = this.state;\r\n    if (Object.keys(invalidFields).length !== 0) return;\r\n\r\n    const query = `mutation issueUpdate(\r\n      $id: Int!\r\n      $changes: IssueUpdateInputs!\r\n    ) {\r\n      issueUpdate(\r\n        id: $id\r\n        changes: $changes\r\n      ) {\r\n        id title status owner\r\n        effort created due description\r\n      }\r\n    }`;\r\n\r\n    const { id, created, ...changes } = issue;\r\n    const { showSuccess, showError } = this.props;\r\n    const data = await graphQLFetch(query, { changes, id }, showError);\r\n    if (data) {\r\n      this.setState({ issue: data.issueUpdate });\r\n      showSuccess('Updated issue successfully');\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    const { match, showError } = this.props;\r\n    const data = await IssueEdit.fetchData(match, null, showError);\r\n    this.setState({ issue: data ? data.issue : {}, invalidFields: {} });\r\n  }\r\n\r\n  showValidation() {\r\n    this.setState({ showingValidation: true });\r\n  }\r\n\r\n  dismissValidation() {\r\n    this.setState({ showingValidation: false });\r\n  }\r\n\r\n  render() {\r\n    const { issue } = this.state;\r\n    if (issue == null) return null;\r\n\r\n    const { issue: { id } } = this.state;\r\n    const { match: { params: { id: propsId } } } = this.props;\r\n    if (id == null) {\r\n      if (propsId != null) {\r\n        return <h3>{`Issue with ID ${propsId} not found.`}</h3>;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    const { invalidFields, showingValidation } = this.state;\r\n    let validationMessage;\r\n    if (Object.keys(invalidFields).length !== 0 && showingValidation) {\r\n      validationMessage = (\r\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\r\n          Please correct invalid fields before submitting.\r\n        </Alert>\r\n      );\r\n    }\r\n\r\n    const { issue: { title, status } } = this.state;\r\n    const { issue: { owner, effort, description } } = this.state;\r\n    const { issue: { created, due } } = this.state;\r\n    const user = this.context;\r\n\r\n    return (\r\n      <Panel>\r\n        <Panel.Heading>\r\n          <Panel.Title>{`Editing issue: ${id}`}</Panel.Title>\r\n        </Panel.Heading>\r\n        <Panel.Body>\r\n          <Form horizontal onSubmit={this.handleSubmit}>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Created</Col>\r\n              <Col sm={9}>\r\n                <FormControl.Static>\r\n                  {created.toDateString()}\r\n                </FormControl.Static>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Status</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass=\"select\"\r\n                  name=\"status\"\r\n                  value={status}\r\n                  onChange={this.onChange}\r\n                >\r\n                  <option value=\"New\">New</option>\r\n                  <option value=\"Assigned\">Assigned</option>\r\n                  <option value=\"Fixed\">Fixed</option>\r\n                  <option value=\"Closed\">Closed</option>\r\n                </FormControl>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Owner</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass={TextInput}\r\n                  name=\"owner\"\r\n                  value={owner}\r\n                  onChange={this.onChange}\r\n                  key={id}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Effort</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass={NumInput}\r\n                  name=\"effort\"\r\n                  value={effort}\r\n                  onChange={this.onChange}\r\n                  key={id}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup validationState={\r\n              invalidFields.due ? 'error' : null\r\n            }\r\n            >\r\n              <Col componentClass={ControlLabel} sm={3}>Due</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass={DateInput}\r\n                  onValidityChange={this.onValidityChange}\r\n                  name=\"due\"\r\n                  value={due}\r\n                  onChange={this.onChange}\r\n                  key={id}\r\n                />\r\n                <FormControl.Feedback />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Title</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass={TextInput}\r\n                  size={50}\r\n                  name=\"title\"\r\n                  value={title}\r\n                  onChange={this.onChange}\r\n                  key={id}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col componentClass={ControlLabel} sm={3}>Description</Col>\r\n              <Col sm={9}>\r\n                <FormControl\r\n                  componentClass={TextInput}\r\n                  tag=\"textarea\"\r\n                  rows={4}\r\n                  cols={50}\r\n                  name=\"description\"\r\n                  value={description}\r\n                  onChange={this.onChange}\r\n                  key={id}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col smOffset={3} sm={6}>\r\n                <ButtonToolbar>\r\n                  <Button\r\n                    disabled={!user.signedIn}\r\n                    bsStyle=\"primary\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Submit\r\n                  </Button>\r\n                  <LinkContainer to=\"/issues\">\r\n                    <Button bsStyle=\"link\">Back</Button>\r\n                  </LinkContainer>\r\n                </ButtonToolbar>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Col smOffset={3} sm={9}>{validationMessage}</Col>\r\n            </FormGroup>\r\n          </Form>\r\n        </Panel.Body>\r\n        <Panel.Footer>\r\n          <Link to={`/edit/${id - 1}`}>Prev</Link>\r\n          {' | '}\r\n          <Link to={`/edit/${id + 1}`}>Next</Link>\r\n        </Panel.Footer>\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nconst IssueEditWithToast = withToast(IssueEdit);\r\nIssueEditWithToast.fetchData = IssueEdit.fetchData;\r\n\r\nIssueEdit.contextType = UserContext;\r\n\r\nexport default IssueEditWithToast;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport store from './store.js';\r\nimport graphQLFetch from './graphQLFetch.js';\r\n\r\nexport default class About extends React.Component {\r\n  static async fetchData() {\r\n    const data = await graphQLFetch('query {about}');\r\n    return data;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const apiAbout = store.initialData ? store.initialData.about : null;\r\n    delete store.initialData;\r\n    this.state = { apiAbout };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { apiAbout } = this.state;\r\n    if (apiAbout == null) {\r\n      const data = await About.fetchData();\r\n      this.setState({ apiAbout: data.about });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { apiAbout } = this.state;\r\n    return (\r\n      <div className=\"text-center\">\r\n        <h3>Issue Tracker version 1</h3>\r\n        <h4>\r\n          {apiAbout}\r\n        </h4>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\nimport React from 'react';\r\n\r\nfunction NotFound() {\r\n  return <h1>Page Not Found</h1>;\r\n}\r\nexport default NotFound;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport IssueList from './IssueList.jsx';\r\nimport IssueReport from './IssueReport.jsx';\r\nimport IssueEdit from './IssueEdit.jsx';\r\nimport About from './About.jsx';\r\nimport NotFound from './NotFound.jsx';\r\n\r\nconst routes = [\r\n  { path: '/issues/:id?', component: IssueList },\r\n  { path: '/edit/:id', component: IssueEdit },\r\n  { path: '/report', component: IssueReport },\r\n  { path: '/about', component: About },\r\n  { path: '*', component: NotFound },\r\n];\r\n\r\nexport default routes;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport routes from './routes.js';\r\n\r\nexport default function Contents() {\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from=\"/\" to=\"/issues\" />\r\n      {routes.map(attrs => <Route {...attrs} key={attrs.path} />)}\r\n    </Switch>\r\n  );\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {\r\n  NavItem, Glyphicon, Modal, Form, FormGroup, FormControl, ControlLabel,\r\n  Button, ButtonToolbar, Tooltip, OverlayTrigger,\r\n} from 'react-bootstrap';\r\n\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport withToast from './withToast.jsx';\r\n\r\nclass IssueAddNavItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showing: false,\r\n    };\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  showModal() {\r\n    this.setState({ showing: true });\r\n  }\r\n\r\n  hideModal() {\r\n    this.setState({ showing: false });\r\n  }\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.hideModal();\r\n    const form = document.forms.issueAdd;\r\n    const issue = {\r\n      owner: form.owner.value,\r\n      title: form.title.value,\r\n      due: new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 10),\r\n    };\r\n    const query = `mutation issueAdd($issue: IssueInputs!) {\r\n      issueAdd(issue: $issue) {\r\n        id\r\n      }\r\n    }`;\r\n\r\n    const { showError } = this.props;\r\n    const data = await graphQLFetch(query, { issue }, showError);\r\n    if (data) {\r\n      const { history } = this.props;\r\n      history.push(`/edit/${data.issueAdd.id}`);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { showing } = this.state;\r\n    const { user: { signedIn } } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <NavItem disabled={!signedIn} onClick={this.showModal}>\r\n          <OverlayTrigger\r\n            placement=\"left\"\r\n            delayShow={1000}\r\n            overlay={<Tooltip id=\"create-issue\">Create Issue</Tooltip>}\r\n          >\r\n            <Glyphicon glyph=\"plus\" />\r\n          </OverlayTrigger>\r\n        </NavItem>\r\n        <Modal keyboard show={showing} onHide={this.hideModal}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Create Issue</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form name=\"issueAdd\">\r\n              <FormGroup>\r\n                <ControlLabel>Title</ControlLabel>\r\n                <FormControl name=\"title\" autoFocus />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <ControlLabel>Owner</ControlLabel>\r\n                <FormControl name=\"owner\" />\r\n              </FormGroup>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <ButtonToolbar>\r\n              <Button\r\n                type=\"button\"\r\n                bsStyle=\"primary\"\r\n                onClick={this.handleSubmit}\r\n              >\r\n                Submit\r\n              </Button>\r\n              <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\r\n            </ButtonToolbar>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withToast(withRouter(IssueAddNavItem));\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport {\r\n  NavItem, Modal, Button, NavDropdown, MenuItem,\r\n} from 'react-bootstrap';\r\n\r\nimport withToast from './withToast.jsx';\r\n\r\nclass SigninNavItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showing: false,\r\n      disabled: true,\r\n    };\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n    this.signOut = this.signOut.bind(this);\r\n    this.signIn = this.signIn.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const clientId = window.ENV.GOOGLE_CLIENT_ID;\r\n    if (!clientId) return;\r\n    window.gapi.load('auth2', () => {\r\n      if (!window.gapi.auth2.getAuthInstance()) {\r\n        window.gapi.auth2.init({\r\n          client_id: clientId,\r\n          scope: 'email',\r\n          plugin_name: 'PLUGIN',\r\n        }).then(() => {\r\n          this.setState({ disabled: false });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async signIn() {\r\n    this.hideModal();\r\n    const { showError } = this.props;\r\n    let googleToken;\r\n    try {\r\n      const auth2 = window.gapi.auth2.getAuthInstance();\r\n      const googleUser = await auth2.signIn();\r\n      googleToken = googleUser.getAuthResponse().id_token;\r\n    } catch (error) {\r\n      showError(`Error authenticating with Google: ${error.error}`);\r\n    }\r\n    try {\r\n      const apiEndpoint = window.ENV.UI_AUTH_ENDPOINT;\r\n      const response = await fetch(`${apiEndpoint}/signin`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ google_token: googleToken }),\r\n      });\r\n      const body = await response.text();\r\n      const result = JSON.parse(body);\r\n      const { signedIn, givenName } = result;\r\n      const { onUserChange } = this.props;\r\n      onUserChange({ signedIn, givenName });\r\n    } catch (error) {\r\n      showError(`Error signing into the app: ${error}`);\r\n    }\r\n  }\r\n\r\n  async signOut() {\r\n    const apiEndpoint = window.ENV.UI_AUTH_ENDPOINT;\r\n    const { showError } = this.props;\r\n    try {\r\n      await fetch(`${apiEndpoint}/signout`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n      });\r\n      const auth2 = window.gapi.auth2.getAuthInstance();\r\n      await auth2.signOut();\r\n      const { onUserChange } = this.props;\r\n      onUserChange({ signedIn: false, givenName: '' });\r\n    } catch (error) {\r\n      showError(`Error signing out: ${error}`);\r\n    }\r\n  }\r\n\r\n  showModal() {\r\n    const clientId = window.ENV.GOOGLE_CLIENT_ID;\r\n    const { showError } = this.props;\r\n    if (!clientId) {\r\n      showError('Missing environment variable GOOGLE_CLIENT_ID');\r\n      return;\r\n    }\r\n    this.setState({ showing: true });\r\n  }\r\n\r\n  hideModal() {\r\n    this.setState({ showing: false });\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    if (user.signedIn) {\r\n      return (\r\n        <NavDropdown title={user.givenName} id=\"user\">\r\n          <MenuItem onClick={this.signOut}>Sign out</MenuItem>\r\n        </NavDropdown>\r\n      );\r\n    }\r\n\r\n    const { showing, disabled } = this.state;\r\n    return (\r\n      <>\r\n        <NavItem onClick={this.showModal}>\r\n          Sign in\r\n        </NavItem>\r\n        <Modal keyboard show={showing} onHide={this.hideModal} bsSize=\"sm\">\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Sign in</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Button\r\n              block\r\n              disabled={disabled}\r\n              bsStyle=\"primary\"\r\n              onClick={this.signIn}\r\n            >\r\n              <img src=\"https://developers.google.com/identity/images/btn_google_signin_light_normal_web.png\" alt=\"Sign In\" />\r\n            </Button>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withToast(SigninNavItem);\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-select/lib/Async\");","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport SelectAsync from 'react-select/lib/Async'; // eslint-disable-line\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport withToast from './withToast.jsx';\r\n\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeSelection = this.onChangeSelection.bind(this);\r\n    this.loadOptions = this.loadOptions.bind(this);\r\n  }\r\n\r\n  onChangeSelection({ value }) {\r\n    const { history } = this.props;\r\n    history.push(`/edit/${value}`);\r\n  }\r\n\r\n  async loadOptions(term) {\r\n    if (term.length < 3) return [];\r\n    const query = `query issueList($search: String) {\r\n      issueList(search: $search) {\r\n        issues {id title}\r\n      }\r\n    }`;\r\n\r\n    const { showError } = this.props;\r\n    const data = await graphQLFetch(query, { search: term }, showError);\r\n    return data.issueList.issues.map(issue => ({\r\n      label: `#${issue.id}: ${issue.title}`, value: issue.id,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SelectAsync\r\n        instanceId=\"search-select\"\r\n        value=\"\"\r\n        loadOptions={this.loadOptions}\r\n        filterOption={() => true}\r\n        onChange={this.onChangeSelection}\r\n        components={{ DropdownIndicator: null }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withToast(Search));\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport {\r\n  Navbar, Nav, NavItem, NavDropdown,\r\n  MenuItem, Glyphicon,\r\n  Grid, Col,\r\n} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nimport Contents from './Contents.jsx';\r\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\r\nimport SignInNavItem from './SignInNavItem.jsx';\r\nimport Search from './Search.jsx';\r\nimport UserContext from './UserContext.js';\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport store from './store.js';\r\n\r\nfunction NavBar({ user, onUserChange }) {\r\n  return (\r\n    <Navbar fluid>\r\n      <Navbar.Header>\r\n        <Navbar.Brand>Issue Tracker</Navbar.Brand>\r\n      </Navbar.Header>\r\n      <Nav>\r\n        <LinkContainer exact to=\"/\">\r\n          <NavItem>Home</NavItem>\r\n        </LinkContainer>\r\n        <LinkContainer to=\"/issues\">\r\n          <NavItem>Issue List</NavItem>\r\n        </LinkContainer>\r\n        <LinkContainer to=\"/report\">\r\n          <NavItem>Report</NavItem>\r\n        </LinkContainer>\r\n      </Nav>\r\n      <Col sm={5}>\r\n        <Navbar.Form>\r\n          <Search />\r\n        </Navbar.Form>\r\n      </Col>\r\n      <Nav pullRight>\r\n        <IssueAddNavItem user={user} />\r\n        <SignInNavItem user={user} onUserChange={onUserChange} />\r\n        <NavDropdown\r\n          id=\"user-dropdown\"\r\n          title={<Glyphicon glyph=\"asterisk\" />}\r\n          noCaret\r\n        >\r\n          <LinkContainer to=\"/about\">\r\n            <MenuItem>About</MenuItem>\r\n          </LinkContainer>\r\n        </NavDropdown>\r\n      </Nav>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nfunction Footer() {\r\n  return (\r\n    <small>\r\n      <hr />\r\n      <p className=\"text-center\">\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">\r\n          GitHub\r\n        </a>\r\n        {' '}\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">\r\n          Youtube\r\n        </a>\r\n        {' '}\r\n        <a href=\"/about\">\r\n          Youtube\r\n        </a>\r\n      </p>\r\n      <p className=\"text-center\">\r\n        Designed and developed based on love and a passion for advancing React,\r\n        helping it become popular worldwide by\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">@PNT</a>\r\n        and\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">@VHNM</a>\r\n        .\r\n        <br />\r\n        Maintained and repaired by\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">@PNT</a>\r\n        with support from\r\n        <a href=\"https://github.com/vasansr/pro-mern-stack-2\">@VHNM</a>\r\n        .\r\n        Code version v1.0.\r\n      </p>\r\n    </small>\r\n  );\r\n}\r\n\r\nexport default class Page extends React.Component {\r\n  static async fetchData(cookie) {\r\n    const query = `query { user {\r\n      signedIn givenName\r\n    }}`;\r\n    const data = await graphQLFetch(query, null, null, cookie);\r\n    return data;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const user = store.userData ? store.userData.user : null;\r\n    delete store.userData;\r\n    this.state = { user };\r\n\r\n    this.onUserChange = this.onUserChange.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { user } = this.state;\r\n    if (user == null) {\r\n      const data = await Page.fetchData();\r\n      this.setState({ user: data.user });\r\n    }\r\n  }\r\n\r\n  onUserChange(user) {\r\n    this.setState({ user });\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    if (user == null) return null;\r\n\r\n    return (\r\n      <div>\r\n        <NavBar user={user} onUserChange={this.onUserChange} />\r\n        <Grid fluid>\r\n          <UserContext.Provider value={user}>\r\n            <Contents />\r\n          </UserContext.Provider>\r\n        </Grid>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"serialize-javascript\");","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { StaticRouter, matchPath } from 'react-router-dom';\r\n\r\nimport Page from '../src/Page.jsx';\r\nimport template from './template.js';\r\nimport store from '../src/store.js';\r\nimport routes from '../src/routes.js';\r\n\r\nasync function render(req, res) {\r\n  const activeRoute = routes.find(\r\n    route => matchPath(req.path, route),\r\n  );\r\n\r\n  let initialData;\r\n  if (activeRoute && activeRoute.component.fetchData) {\r\n    const match = matchPath(req.path, activeRoute);\r\n    const index = req.url.indexOf('?');\r\n    const search = index !== -1 ? req.url.substr(index) : null;\r\n    initialData = await activeRoute.component\r\n      .fetchData(match, search, req.headers.cookie);\r\n  }\r\n\r\n  const userData = await Page.fetchData(req.headers.cookie);\r\n\r\n  store.initialData = initialData;\r\n  store.userData = userData;\r\n\r\n  const context = {};\r\n  const element = (\r\n    <StaticRouter location={req.url} context={context}>\r\n      <Page />\r\n    </StaticRouter>\r\n  );\r\n  const body = ReactDOMServer.renderToString(element);\r\n\r\n  if (context.url) {\r\n    res.redirect(301, context.url);\r\n  } else {\r\n    res.send(template(body, initialData, userData));\r\n  }\r\n}\r\n\r\nexport default render;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport dotenv from 'dotenv';\r\nimport express from 'express';\r\nimport proxy from 'http-proxy-middleware';\r\nimport SourceMapSupport from 'source-map-support';\r\n\r\nimport render from './render.jsx';\r\n\r\nconst app = express();\r\n\r\nSourceMapSupport.install();\r\ndotenv.config();\r\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\r\n\r\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\r\n  console.log('Adding dev middlware, enabling HMR');\r\n  /* eslint \"global-require\": \"off\" */\r\n  /* eslint \"import/no-extraneous-dependencies\": \"off\" */\r\n  const webpack = require('webpack');\r\n  const devMiddleware = require('webpack-dev-middleware');\r\n  const hotMiddleware = require('webpack-hot-middleware');\r\n\r\n  const config = require('../webpack.config.js')[0];\r\n  config.entry.app.push('webpack-hot-middleware/client');\r\n  config.plugins = config.plugins || [];\r\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\r\n\r\n  const compiler = webpack(config);\r\n  app.use(devMiddleware(compiler));\r\n  app.use(hotMiddleware(compiler));\r\n}\r\n\r\napp.use(express.static('public'));\r\n\r\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\r\nif (apiProxyTarget) {\r\n  app.use('/graphql', proxy({ target: apiProxyTarget }));\r\n  app.use('/auth', proxy({ target: apiProxyTarget }));\r\n}\r\n\r\nif (!process.env.UI_API_ENDPOINT) {\r\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\r\n}\r\n\r\nif (!process.env.UI_SERVER_API_ENDPOINT) {\r\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\r\n}\r\n\r\nif (!process.env.UI_AUTH_ENDPOINT) {\r\n  process.env.UI_AUTH_ENDPOINT = 'http://localhost:3000/auth';\r\n}\r\n\r\napp.get('/env.js', (req, res) => {\r\n  const env = {\r\n    UI_API_ENDPOINT: process.env.UI_API_ENDPOINT,\r\n    UI_AUTH_ENDPOINT: process.env.UI_AUTH_ENDPOINT,\r\n    GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID,\r\n  };\r\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\r\n});\r\n\r\napp.get('*', (req, res, next) => {\r\n  render(req, res, next);\r\n});\r\n\r\nconst port = process.env.UI_SERVER_PORT || 8000;\r\n\r\napp.listen(port, () => {\r\n  console.log(`UI started on port ${port}`);\r\n});\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./render.jsx');\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport serialize from 'serialize-javascript';\r\n\r\nexport default function template(body, initialData, userData) {\r\n  return `<!DOCTYPE HTML>\r\n<html>\r\n\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <title>Pro MERN Stack</title>\r\n  <link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\r\n  <script src=\"https://apis.google.com/js/api:client.js\"></script>\r\n\r\n  <style>\r\n    table.table-hover tr {cursor: pointer;}\r\n    .panel-title a {display: block; width: 100%; cursor: pointer;}\r\n  </style>\r\n</head>\r\n\r\n<body>\r\n  <!-- Page generated from template. -->\r\n  <div id=\"contents\">${body}</div>\r\n  <script>\r\n    window.__INITIAL_DATA__ = ${serialize(initialData)}\r\n    window.__USER_DATA__ = ${serialize(userData)}\r\n  </script>\r\n\r\n  <script src=\"/env.js\"></script>\r\n  <script src=\"/vendor.bundle.js\"></script>\r\n  <script src=\"/app.bundle.js\"></script>\r\n</body>\r\n\r\n</html>\r\n`;\r\n}\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","require","IssueFilter","React","constructor","location","search","super","params","URLSearchParams","this","state","status","effortMin","effortMax","changed","onChangeStatus","bind","onChangeEffortMin","onChangeEffortMax","applyFilter","showOriginalFilter","componentDidUpdate","prevProps","prevSearch","props","e","setState","target","value","match","history","urlBase","set","toString","push","pathname","render","Row","Col","xs","sm","md","lg","FormGroup","ControlLabel","FormControl","componentClass","onChange","InputGroup","ButtonToolbar","Button","bsStyle","type","onClick","disabled","withRouter","signedIn","IssueRowPlain","issue","closeIssue","deleteIssue","index","context","selectLocation","id","editTooltip","Tooltip","placement","closeTooltip","deleteTooltip","tableRow","owner","created","toDateString","effort","due","title","LinkContainer","to","OverlayTrigger","delayShow","overlay","bsSize","Glyphicon","glyph","preventDefault","contextType","UserContext","IssueRow","IssueTable","issues","issueRows","map","Table","bordered","condensed","hover","responsive","IssueDetail","description","dateRegex","RegExp","jsonDateReviver","test","Date","async","graphQLFetch","query","variables","showError","cookie","apiEndpoint","process","env","UI_SERVER_API_ENDPOINT","headers","Cookie","response","fetch","method","credentials","body","JSON","stringify","text","result","parse","errors","error","extensions","code","details","exception","join","message","data","Toast","showing","onDismiss","clearTimeout","dismissTimer","setTimeout","componentWillUnmount","children","Collapse","in","style","position","bottom","left","zIndex","Alert","withToast","OriginalComponent","toastVisible","toastMessage","toastType","showSuccess","dismissToast","_extends","PageLink","page","activePage","isActive","IssueList","static","vars","hasSelection","selectedId","parseInt","Number","isNaN","idInt","initialData","store","issueList","pages","selectedIssue","componentDidMount","loadData","prevId","fetchData","prevState","newList","issueUpdate","issueDelete","splice","restoreIssue","startPage","Math","floor","endPage","prevSection","nextSection","items","i","min","Pagination","Panel","toggle","collapsible","IssueListWithToast","statuses","IssueReport","stats","issueCounts","headerColumns","statRows","counts","reduce","total","IssueReportWithToast","NumInput","num","onBlur","str","val","unformat","DateInput","date","toISOString","substr","focused","valid","onFocus","oldValid","onValidityChange","dateValue","getTime","origValue","displayValue","placeholder","TextInput","trim","length","tag","IssueEdit","invalidFields","showingValidation","handleSubmit","dismissValidation","showValidation","event","naturalValue","name","textValue","undefined","keys","changes","propsId","validationMessage","user","Form","horizontal","onSubmit","validationState","size","rows","cols","smOffset","Link","IssueEditWithToast","About","apiAbout","about","className","path","component","Contents","Switch","Redirect","exact","from","routes","attrs","Route","IssueAddNavItem","showModal","hideModal","form","document","forms","issueAdd","NavItem","Modal","keyboard","show","onHide","closeButton","autoFocus","SigninNavItem","signOut","signIn","clientId","window","ENV","GOOGLE_CLIENT_ID","gapi","load","auth2","getAuthInstance","init","client_id","scope","plugin_name","then","googleToken","getAuthResponse","id_token","UI_AUTH_ENDPOINT","google_token","givenName","onUserChange","NavDropdown","MenuItem","block","src","alt","Search","onChangeSelection","loadOptions","term","label","SelectAsync","instanceId","filterOption","components","DropdownIndicator","NavBar","Navbar","fluid","Nav","pullRight","SignInNavItem","noCaret","Footer","href","Page","Grid","app","express","SourceMapSupport","dotenv","ENABLE_HMR","use","apiProxyTarget","API_PROXY_TARGET","proxy","UI_API_ENDPOINT","req","res","send","next","activeRoute","route","matchPath","url","indexOf","userData","element","StaticRouter","ReactDOMServer","redirect","serialize","template","port","UI_SERVER_PORT","listen","console","log"],"sourceRoot":""}